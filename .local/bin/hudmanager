#!/bin/bash

# Only show all Polybar instances when the Super key is held down

xinput test-xi2 --root 3 | while read event; read device; read detail; read valuators; read; do
	if [[ "$detail" == *"133" ]]; then
		[[ "$event" == *"(RawKeyPress)" ]] && polybar-msg cmd show &>/dev/null
		[[ "$event" == *"(RawKeyRelease)" ]] && polybar-msg cmd hide &>/dev/null
	fi
done
