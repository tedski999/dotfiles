#!/bin/bash

# Prompt user to choose from several provided options

prompt="$1"
urgents="$2" # Comma-separated indexes
choices="$3" # Comma-separated choices
width="${4-400}"
initial="$5"

len=$(($(echo "$choices" | tr -cd , | wc -c) + 1))
[ "$len" -gt 6 ] && len=6

echo "$choices" | rofi \
	-theme-str "window {width:$width;}" -l "$len" -sep "," \
	-filter "$initial" -dmenu -p "$prompt" -u "$urgents" -no-custom \
	-monitor "$(bspc query --monitors --monitor focused --names)"
